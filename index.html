<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="UTF-8">
	<title>Salvatore Contu</title>
	<link rel="icon" href="img/sc.png">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/bebasneueregular" type="text/css"/> 
    </head>
    <body>

	<header>
	    <div id="my-name">Salvatore<br>Contu</div>
	    <img id="my-photo" src="img/me.jpg">
	</header>

	<nav>
	    <ul>
		<li><a id="home" href="#" onClick="getPage('home');">&nbsp;&nbsp;Home<span class="separator"> | </span></a></li>
		<li><a id="programs" href="#" onClick="getPage('programs');">Programs</a></li>
	    </ul>
	</nav>
	    

	<section id="content"></section>
	
	<footer>
	    <p>Send comments to <span class="hl">salvatore period contu at gmail period com</span></p>
	    <a href="https://www.fsf.org" target="_new"><img src="img/fsf-since.png"></a>
	</footer>

	<script>

	 function selectMenu(name) {
	     var nav = document.getElementsByTagName("nav")[0];
	     var links = nav.getElementsByTagName("a");
	     for (var i=0; i<links.length; i++) {
		 links[i].style.color = "#666666";
	     }
	     document.getElementById(name).style.color= "#DE1B1B";
	 } 
	 
	 function getPage(name) {
	     /*
		var xmlhttp = new XMLHttpRequest();

		xmlhttp.onreadystatechange = function() {
		if (xmlhttp.readyState == XMLHttpRequest.DONE) {   
		if (xmlhttp.status == 200) {
		document.getElementById("content").innerHTML = xmlhttp.responseText;
		selectMenu(name);
		}
		else if (xmlhttp.status == 400) {
		alert('There was an error 400');
		}
		else {
		alert('something else other than 200 was returned');
		}
		}
		};
		
		xmlhttp.open("GET", name + ".html", true);
		xmlhttp.send();
	      */
	     
	     fetch(name + ".html")
		 .then((res) => res.text())
		 .then((res) => {
		     document.getElementById("content").innerHTML = res;
		     selectMenu(name)}
		 )
		 .catch((res) => {
		     fetch("error.html")
			 .then((res) => res.text())
			 .then((res) => document.getElementById("content").innerHTML = res)
		 })
	     
	 }

	 //load home when the site is open
	 getPage("home");
	 
	</script>
	
    </body>
</html>
